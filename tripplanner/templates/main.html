<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" type="image/png" href="https://www.loopple.com/img/favicon.png">

    <title>Trip Planner AI</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(to bottom, #e0f7fa, #ffffff);
            background-attachment: fixed;
        }

        .bg-travel {
            background: linear-gradient(135deg, rgba(0, 191, 255, 0.15), rgba(255, 255, 255, 0.9));
        }

        .glass {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(8px);
            border-radius: 16px;
        }

        .section-container {
            background: linear-gradient(135deg, rgba(0, 191, 255, 0.05), rgba(63, 81, 181, 0.05));
            padding: 3rem 1rem;
            border-radius: 16px;
            margin-bottom: 2rem;
        }

        .btn-primary {
            background-color: #00bcd4;
            border-color: #00bcd4;
        }

        .btn-primary:hover {
            background-color: #0097a7;
            border-color: #0097a7;
        }

        .card-img-top {
            height: 180px;
            object-fit: cover;
            border-radius: 0.5rem 0.5rem 0 0;
        }


        .btn-gradient {
            background: linear-gradient(135deg, #00bcd4, #3f51b5);
            color: white;
            border: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 188, 212, 0.3);
        }


        .btn-outline-primary:hover {
            background-color: #00bcd4;
            color: white;
        }

        .card-glass {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(6px);
            border-radius: 1rem;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        header.hero-header {
            background: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e') center center / cover no-repeat;
            color: white;
            min-height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-shadow: 0 1px 4px rgba(0, 0, 0, 0.6);
        }

        footer.hero-footer {
            background: url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e') center center / cover no-repeat;
            color: white;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
        }

        /* layout trip */
        .masonry-grid {
            column-count: 3;
            column-gap: 1.5rem;
        }

        @media (max-width: 992px) {
            .masonry-grid {
                column-count: 2;
            }
        }

        @media (max-width: 576px) {
            .masonry-grid {
                column-count: 1;
            }
        }

        .masonry-card {
            break-inside: avoid;
            margin-bottom: 1.5rem;
            display: inline-block;
            width: 100%;
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
            background-color: white;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .masonry-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
        }

        .masonry-card img {
            width: 100%;
            height: 220px;
            object-fit: cover;
        }

        .masonry-card .card-body {
            padding: 1rem;
        }

        /* create a new trip layout */
        .hero-header {
            background-image: url('https://images.unsplash.com/photo-1682685797347-3adf3b3c987a?auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
            min-height: 75vh;
            position: relative;
            padding-top: 5rem;
            padding-bottom: 5rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }

        .create-trip-form-section {
            margin-top: -100px;
            /* gối lên phần header */
            margin-bottom: 3rem;
        }

        .form-floating-box {
            border-radius: 1rem;
            background-color: white;
            z-index: 10;
        }
    </style>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- Custom CSS -->
    <!-- <link rel="stylesheet" href="/static/styles.css"> -->
</head>

<body data-framework="bootstrap5">
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="/">TripPlanner AI</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link active fw-semibold" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/create-trip">Create New Trip</a></li>
                    <li class="nav-item"><a class="nav-link" href="/history">History</a></li>
                    <li class="nav-item"><a class="nav-link" href="/favorites">Favorites</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="hero-header text-center text-white d-flex align-items-center justify-content-center">
        <div class="container">
            <h1 class="display-4 fw-bold">Plan Your Perfect Trip in Vietnam</h1>
            <p class="lead">Personalized itineraries powered by AI based on your needs.</p>
            <div class="search-bar-below mt-4">
                <form action="{{ url_for('search') }}" method="GET" class="search-bar-below mt-4">
                    <input type="text" name="q" class="form-control form-control-lg w-50 mx-auto"
                        placeholder="Tìm kiếm địa điểm yêu thích...">
                </form>

            </div>
        </div>
    </header>

    <section class="create-trip-form-section">
        <div class="container">
            <div class="card p-4 shadow-lg form-floating-box">
                <h2 class="text-center mb-4">Create a New Trip</h2>
                <form method="POST" action="{{ url_for('create_trip') }}">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label">Trip Name</label>
                            <input type="text" name="trip_name" class="form-control" placeholder="E.g. Đà Lạt 5 ngày" required>
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Start Date</label>
                            <input type="date" name="start_date" class="form-control" required>
                        </div>
                        <div class="col-md-3">
                            <label class="form-label">Number of Days</label>
                            <input type="number" name="num_days" class="form-control" min="1" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Departure City</label>
                            <input type="text" name="departure" class="form-control" placeholder="Hà Nội, TP.HCM..." required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Destination(s)</label>
                            <input type="text" name="destinations" class="form-control"
                                placeholder="Đà Lạt, Nha Trang..." required>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Budget (VND)</label>
                            <input type="number" name="budget" class="form-control" placeholder="3000000" required>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Number of People</label>
                            <input type="number" name="people" class="form-control" min="1" required>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Transportation</label>
                            <select name="transport" class="form-select" required>
                                <option value="">-- Select --</option>
                                <option value="plane">Plane</option>
                                <option value="bus">Bus</option>
                                <option value="motorbike">Motorbike</option>
                            </select>
                        </div>
                        <div class="col-12">
                            <label class="form-label">Preferences</label><br>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" name="preferences" value="nature">
                                <label class="form-check-label">Nature</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" name="preferences" value="food">
                                <label class="form-check-label">Food</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" name="preferences" value="culture">
                                <label class="form-check-label">Culture</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" name="preferences" value="shopping">
                                <label class="form-check-label">Shopping</label>
                            </div>
                        </div>
                        <div class="col-12">
                            <label class="form-label">Additional Notes</label>
                            <textarea name="notes" class="form-control" rows="3"
                                placeholder="E.g. ưu tiên chỗ ở gần trung tâm..."></textarea>
                        </div>
                        <div class="col-12 text-center">
                            <button type="submit" class="btn btn-gradient btn-lg">Generate Itinerary</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <section class="container py-5">
        <h2 class="mb-4">Recommended Trips</h2>
        <div class="masonry-grid">
            {% for trip in recommended_trips %}
            <div class="masonry-card">
                <img src="{{ trip.destination_image_url or '/static/default-trip.jpg' }}" alt="Trip">
                <div class="card-body">
                    <h5 class="card-title">{{ trip.trip_name }}</h5>
                    <p class="card-text text-muted">{{ trip.destination_description }}</p>
                    <a href="/trip/{{ trip._id }}" class="btn btn-gradient btn-sm">See more</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <!-- Keep original structured See Latest Trips layout -->
    <section class="container py-5">
        <h2 class="mb-2">See Latest Trips</h2>
        <p class="text-muted mb-4">The time is now for it to be okay to be great. For being a bright color. For standing
            out.</p>

        <div class="masonry-grid">
            {% for trip in latest_trips %}
            <div class="masonry-card">
                <img src="{{ trip.destination_image_url or '/static/default-trip.jpg' }}" alt="Trip">
                <div class="card-body">
                    <h5 class="card-title">{{ trip.trip_name }}</h5>
                    <p class="card-text text-muted">
                        {{ trip.destination_description}}
                    </p>
                    <a href="/trip/{{ trip._id }}" class="btn btn-gradient btn-sm">Read more</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>



    <section class="container py-5">
        <h2 class="text-center mb-4">Testimonials</h2>
        <div class="row">
            {% for testimonial in testimonials %}
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <div class="mb-2 text-warning">
                            <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i
                                class="fas fa-star"></i><i class="fas fa-star"></i>
                        </div>
                        <p class="card-text">{{ testimonial.text }}</p>
                        <img src="{{ testimonial.image }}" alt="Avatar" class="rounded-circle shadow mx-auto"
                            width="60">
                        <h6 class="mt-2">{{ testimonial.name }}</h6>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <footer class="hero-footer text-white py-5 text-center">
        <div class="container">
            <h5>&copy; 2025 TripPlanner Việt Nam</h5>
            <p>Built with Flask & Bootstrap. Discover. Explore. Travel.</p>
        </div>
    </footer>
</body>

</html>